{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport VoiceButton from \"../components/VoiceButton\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function MoneyDiaryScreen() {\n  var _useState = useState([{\n      id: '1',\n      type: 'income',\n      category: 'Tailoring',\n      amount: 1000\n    }, {\n      id: '2',\n      type: 'expense',\n      category: 'Groceries',\n      amount: 200\n    }]),\n    _useState2 = _slicedToArray(_useState, 2),\n    entries = _useState2[0],\n    setEntries = _useState2[1];\n  var handleVoiceResult = function () {\n    var _ref = _asyncToGenerator(function* (text) {\n      try {\n        var resp = yield fetch('http://YOUR_BACKEND_URL/voice-input', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            text: text\n          })\n        });\n        var data = yield resp.json();\n        if (data.type === 'income' || data.type === 'expense') {\n          var newEntry = {\n            id: String(entries.length + 1),\n            type: data.type,\n            category: data.get('category') || data.category || 'General',\n            amount: Number(data.amount || 0)\n          };\n          setEntries([newEntry].concat(_toConsumableArray(entries)));\n        }\n      } catch (e) {\n        console.log('Error sending to backend', e);\n      }\n    });\n    return function handleVoiceResult(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Money Diary\"\n    }), _jsx(VoiceButton, {\n      onResult: handleVoiceResult\n    }), _jsx(FlatList, {\n      data: entries,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          style: styles.item,\n          children: [_jsxs(Text, {\n            children: [item.type === 'income' ? 'ðŸŸ¢ Income' : 'ðŸ”´ Expense', \" - \", item.category]\n          }), _jsxs(Text, {\n            children: [\"\\u20B9\", item.amount]\n          })]\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#fff8f5'\n  },\n  title: {\n    fontSize: 22,\n    fontWeight: '700',\n    textAlign: 'center',\n    color: '#4B0082',\n    marginBottom: 12\n  },\n  item: {\n    padding: 12,\n    backgroundColor: '#fff',\n    marginBottom: 8,\n    borderRadius: 8,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","StyleSheet","FlatList","SafeAreaView","VoiceButton","jsx","_jsx","jsxs","_jsxs","MoneyDiaryScreen","_useState","id","type","category","amount","_useState2","_slicedToArray","entries","setEntries","handleVoiceResult","_ref","_asyncToGenerator","text","resp","fetch","method","headers","body","JSON","stringify","data","json","newEntry","String","length","get","Number","concat","_toConsumableArray","e","console","log","_x","apply","arguments","style","styles","container","children","title","onResult","keyExtractor","item","renderItem","_ref2","create","flex","padding","backgroundColor","fontSize","fontWeight","textAlign","color","marginBottom","borderRadius","flexDirection","justifyContent"],"sources":["C:/Users/DELL/Downloads/NariDhanMoneyDiary_starter/frontend/screens/MoneyDiaryScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, StyleSheet, FlatList, SafeAreaView } from 'react-native';\nimport VoiceButton from '../components/VoiceButton';\n\nexport default function MoneyDiaryScreen() {\n  const [entries, setEntries] = useState([\n    { id: '1', type: 'income', category: 'Tailoring', amount: 1000 },\n    { id: '2', type: 'expense', category: 'Groceries', amount: 200 }\n  ]);\n\n  const handleVoiceResult = async (text) => {\n    try {\n      const resp = await fetch('http://YOUR_BACKEND_URL/voice-input', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ text })\n      });\n      const data = await resp.json();\n      // For now we push a simple local entry based on the backend response\n      if (data.type === 'income' || data.type === 'expense') {\n        const newEntry = {\n          id: String(entries.length + 1),\n          type: data.type,\n          category: data.get('category') || data.category || 'General',\n          amount: Number(data.amount || 0)\n        };\n        setEntries([newEntry, ...entries]);\n      }\n    } catch (e) {\n      console.log('Error sending to backend', e);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <Text style={styles.title}>Money Diary</Text>\n      <VoiceButton onResult={handleVoiceResult} />\n      <FlatList\n        data={entries}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => (\n          <View style={styles.item}>\n            <Text>{item.type === 'income' ? 'ðŸŸ¢ Income' : 'ðŸ”´ Expense'} - {item.category}</Text>\n            <Text>â‚¹{item.amount}</Text>\n          </View>\n        )}\n      />\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 16, backgroundColor: '#fff8f5' },\n  title: { fontSize: 22, fontWeight: '700', textAlign: 'center', color: '#4B0082', marginBottom: 12 },\n  item: { padding: 12, backgroundColor: '#fff', marginBottom: 8, borderRadius: 8, flexDirection: 'row', justifyContent: 'space-between' }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}