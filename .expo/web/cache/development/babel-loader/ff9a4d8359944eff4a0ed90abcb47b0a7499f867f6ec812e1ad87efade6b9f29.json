{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar TransactionContext = createContext();\nexport var TransactionProvider = function TransactionProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    transactions = _useState2[0],\n    setTransactions = _useState2[1];\n  useEffect(function () {\n    var loadData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var saved = yield AsyncStorage.getItem(\"transactions\");\n          if (saved) setTransactions(JSON.parse(saved));\n        } catch (error) {\n          console.log(\"Error loading storage:\", error);\n        }\n      });\n      return function loadData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    loadData();\n  }, []);\n  useEffect(function () {\n    AsyncStorage.setItem(\"transactions\", JSON.stringify(transactions));\n  }, [transactions]);\n  var addTransaction = function addTransaction(transaction) {\n    var newList = [].concat(_toConsumableArray(transactions), [_objectSpread(_objectSpread({}, transaction), {}, {\n      id: Date.now()\n    })]);\n    setTransactions(newList);\n  };\n  var deleteTransaction = function deleteTransaction(id) {\n    var filtered = transactions.filter(function (t) {\n      return t.id !== id;\n    });\n    setTransactions(filtered);\n  };\n  var editTransaction = function editTransaction(id, updatedData) {\n    var updatedList = transactions.map(function (t) {\n      return t.id === id ? _objectSpread(_objectSpread({}, t), updatedData) : t;\n    });\n    setTransactions(updatedList);\n  };\n  var totalIncome = transactions.filter(function (t) {\n    return t.type === \"income\";\n  }).reduce(function (sum, t) {\n    return sum + t.amount;\n  }, 0);\n  var totalExpense = transactions.filter(function (t) {\n    return t.type === \"expense\";\n  }).reduce(function (sum, t) {\n    return sum + t.amount;\n  }, 0);\n  var balance = totalIncome - totalExpense;\n  return _jsx(TransactionContext.Provider, {\n    value: {\n      transactions: transactions,\n      addTransaction: addTransaction,\n      deleteTransaction: deleteTransaction,\n      editTransaction: editTransaction,\n      totalIncome: totalIncome,\n      totalExpense: totalExpense,\n      balance: balance\n    },\n    children: children\n  });\n};\nexport var useTransactions = function useTransactions() {\n  return useContext(TransactionContext);\n};","map":{"version":3,"names":["createContext","useContext","useState","useEffect","AsyncStorage","jsx","_jsx","TransactionContext","TransactionProvider","_ref","children","_useState","_useState2","_slicedToArray","transactions","setTransactions","loadData","_ref2","_asyncToGenerator","saved","getItem","JSON","parse","error","console","log","apply","arguments","setItem","stringify","addTransaction","transaction","newList","concat","_toConsumableArray","_objectSpread","id","Date","now","deleteTransaction","filtered","filter","t","editTransaction","updatedData","updatedList","map","totalIncome","type","reduce","sum","amount","totalExpense","balance","Provider","value","useTransactions"],"sources":["C:/Users/DELL/Downloads/NariDhanMoneyDiary_starter/frontend/context/TransactionContext.js"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nconst TransactionContext = createContext();\r\n\r\nexport const TransactionProvider = ({ children }) => {\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  // -----------------------------\r\n  // LOAD DATA FROM STORAGE\r\n  // -----------------------------\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const saved = await AsyncStorage.getItem(\"transactions\");\r\n        if (saved) setTransactions(JSON.parse(saved));\r\n      } catch (error) {\r\n        console.log(\"Error loading storage:\", error);\r\n      }\r\n    };\r\n    loadData();\r\n  }, []);\r\n\r\n  // -----------------------------\r\n  // SAVE DATA TO STORAGE\r\n  // -----------------------------\r\n  useEffect(() => {\r\n    AsyncStorage.setItem(\"transactions\", JSON.stringify(transactions));\r\n  }, [transactions]);\r\n\r\n  // -----------------------------\r\n  // ADD TRANSACTION\r\n  // -----------------------------\r\n  const addTransaction = (transaction) => {\r\n    const newList = [...transactions, { ...transaction, id: Date.now() }];\r\n    setTransactions(newList);\r\n  };\r\n\r\n  // -----------------------------\r\n  // DELETE TRANSACTION\r\n  // -----------------------------\r\n  const deleteTransaction = (id) => {\r\n    const filtered = transactions.filter((t) => t.id !== id);\r\n    setTransactions(filtered);\r\n  };\r\n\r\n  // -----------------------------\r\n  // EDIT TRANSACTION\r\n  // -----------------------------\r\n  const editTransaction = (id, updatedData) => {\r\n    const updatedList = transactions.map((t) =>\r\n      t.id === id ? { ...t, ...updatedData } : t\r\n    );\r\n    setTransactions(updatedList);\r\n  };\r\n\r\n  // -----------------------------\r\n  // CALCULATE TOTALS\r\n  // -----------------------------\r\n  const totalIncome = transactions\r\n    .filter((t) => t.type === \"income\")\r\n    .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n  const totalExpense = transactions\r\n    .filter((t) => t.type === \"expense\")\r\n    .reduce((sum, t) => sum + t.amount, 0);\r\n\r\n  const balance = totalIncome - totalExpense;\r\n\r\n  return (\r\n    <TransactionContext.Provider\r\n      value={{\r\n        transactions,\r\n        addTransaction,\r\n        deleteTransaction,\r\n        editTransaction,\r\n        totalIncome,\r\n        totalExpense,\r\n        balance,\r\n      }}\r\n    >\r\n      {children}\r\n    </TransactionContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTransactions = () => useContext(TransactionContext);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}